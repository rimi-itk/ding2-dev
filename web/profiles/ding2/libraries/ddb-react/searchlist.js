(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{287:function(e,t,a){"use strict";a.r(t);var r=a(16),n=(a(33),a(56)),s=a.n(n),c=a(4),l=a.n(c),i=a(0),o=a.n(i),u=(a(2),a(13),a(34),a(8)),h=a(18),d=a(58),m=a(12),p=a(57),b=a(17);function f(e,t){return o.a.createElement(d.a,{key:t,asideClass:"ddb-searchlist__buttons",aside:o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,{width:"140px",height:"50px"}),o.a.createElement(m.a,{width:"140px",height:"50px"}))},o.a.createElement("div",null,o.a.createElement(m.a,{height:"30px",width:"95px",mb:"12px"})))}function g(e,t){return Object(h.a)({text:e,placeholders:{query:encodeURIComponent(t)}})}function x(e){var t=e.searches,a=e.status,r=e.removeButtonText,n=e.searchUrl,s=e.emptyListText,c=e.errorText,l=e.onRemoveSearch,i=e.goToSearchText;return"initial"===a?o.a.createElement(p.a,null,Object(m.b)(4).map(f)):"failed"===a?o.a.createElement(u.a,{message:c,type:"assertive",variant:"warning"}):"ready"===a&&0===t.length?o.a.createElement(u.a,{message:s,type:"polite",variant:"info"}):o.a.createElement(p.a,null,t.map((function(e){return o.a.createElement(d.a,{className:"ddb-searchlist__item",key:e.id,childrenClass:"ddb-searchlist__children",asideClass:"ddb-searchlist__buttons",aside:o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,{className:"ddb-searchlist__remove-button ddb-searchlist__button",onClick:function(){return l(e.id)},variant:"secondary",align:"center"},r),o.a.createElement(b.a,{className:"ddb-searchlist__result-button ddb-searchlist__button",align:"center",href:g(n,e.query)},i))},o.a.createElement("h2",{className:"ddb-searchlist__header"},o.a.createElement("a",{href:g(n,e.query)},e.title)))})))}x.defaultProps={status:"initial"};var T=x,v=a(70);function E(e){var t=e.followSearchesUrl,a=e.removeButtonText,r=e.emptyListText,n=e.errorText,c=e.goToSearchText,u=e.searchUrl,h=Object(i.useState)([]),d=l()(h,2),m=d[0],p=d[1],b=Object(i.useState)("initial"),f=l()(b,2),g=f[0],x=f[1];function E(){x("failed")}function _(e){p(e),x("ready")}return Object(i.useEffect)((function(){new v.a({baseUrl:t}).getSearches().then(_).catch(E)}),[t]),o.a.createElement(T,{status:g,searches:m,onRemoveSearch:function(e){var a=s()(m);p(m.filter((function(t){return t.id!==e}))),new v.a({baseUrl:t}).deleteSearch({searchId:e}).catch((function(){p(a)}))},removeButtonText:a,errorText:n,emptyListText:r,goToSearchText:c,searchUrl:u})}E.defaultProps={followSearchesUrl:"https://stage.followsearches.dandigbib.org",removeButtonText:"Fjern fra listen",emptyListText:"Ingen gemte søgninger.",errorText:"Gemte søgninger kunne ikke hentes.",goToSearchText:"Gå til søgeresultat"};var _=E;Object(r.a)({appName:"searchlist",app:_})}},[[287,1,0]]]);
//# sourceMappingURL=searchlist.js.map