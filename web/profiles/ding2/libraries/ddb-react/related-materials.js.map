{"version":3,"sources":["webpack:///related-materials.js"],"names":["window","push","286","module","__webpack_exports__","__webpack_require__","r","addMount","regenerator","regenerator_default","n","defineProperty","defineProperty_default","slicedToArray","slicedToArray_default","asyncToGenerator","asyncToGenerator_default","react","react_default","replace","replace_default","skeleton","replacePlaceholders","RelatedMaterialSkeleton","a","createElement","className","mr","ml","mb","mt","height","width","RelatedMaterial","_ref","pid","type","title","creators","year","cover","materialUrl","_useState","Object","_useState2","imageStatus","setImageStatus","coverUrl","imageUrls","large","url","formattedCreators","join","alt","concat","href","text","placeholders","encodeURI","onLoad","src","RelatedMaterials","_ref2","items","status","searchUrl","searchText","titleText","map","item","data","key","id","defaultProps","related_materials","OpenPlatform","CoverService","Material","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_getRelatedMaterials","mark","_callee","_ref3","query","offset","limit","fields","sort","coverClient","openPlatformClient","materials","materialIds","coverSize","coverData","covers","mergeMaterialsAndCovers","coveredMaterials","_args","wrap","_context","prev","next","material","find","format","undefined","includes","Error","search","sent","getCover","size","_cover$imageUrls$cove","abrupt","stop","this","useGetRelatedMaterials","_ref$amount","amount","_ref$maxTries","maxTries","initialState","tries","Array","from","_","index","relatedMaterials","setRelatedMaterials","current","_relatedMaterials$mat","_relatedMaterials$mat2","missing","calculatedLimit","Math","ceil","min","getRelatedMaterials","then","response","_related$filter","relatedMaterialsOffset","related","dataFilledMaterial","finishedMaterials","catch","stringToArray","string","split","part","trim","searchClause","values","allOptions","operator","negate","valuesString","subject","clause","RelatedMaterialsEntry","subjectString","subjects","categoriesString","categories","sourcesString","sources","rawExcludeTitle","excludeTitle","rawSearchUrl","coverServiceUrl","agencyId","baseUrl","excludes","agencyLimit","related_materials_entry","appName","app"],"mappings":"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","file":"./related-materials.js","sourceRoot":""}